{% extends 'AdminBundle:Home:base.html.twig' %}

{% block stylesheets %}
   <link href="{{ asset('assets/admin_website/css/fileinput.min.css') }}" media="all" rel="stylesheet" type="text/css" /> 
{% endblock %}

{% block body_content %}
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">Editer une Ã©mission 
            </h1>
        </div>
    </div>
    {{ form_start(form, { 'action': path('edit_tvshow', {'id': tvShow.id}), 'method':'POST', 'multipart' : true}) }}
    {{ form_widget(form) }}
    <div>
        <div class="form-group">
          <button type="submit" name="save" value="Editer" class="btn btn-primary">Editer</button>
          <a href="{{ path('admin_tvshows') }}" value="Annuler" class="btn btn-default">Annuler</a>
      </div>
  </div>
  {{ form_end(form) }}
{% endblock %}

{% block scripts %}
    <script src="{{ asset('assets/admin_website/js/fileinput.min.js') }}"></script>
    <script>
   
      $("#tv_show_imageFile").fileinput({

    //uploadUrl: "/file-upload-batch/1",
    uploadAsync: false,
    minFileCount: 0,
    maxFileCount: 1,
    overwriteInitial: true,
    initialPreview: [
        // IMAGE DATA
        "{{ asset('uploads/' ~ tvShow.imageName) }}"],
    initialPreviewAsData: true, // identify if you are sending preview data only and not the raw markup
    initialPreviewFileType: 'image', // image is the default and can be overridden in config below
    
    purifyHtml: false, // this by default purifies HTML data for preview
});
$("#tv_show_iconeFile").fileinput({

    //uploadUrl: "/file-upload-batch/1",
    uploadAsync: false,
    minFileCount: 0,
    maxFileCount: 1,
    overwriteInitial: true,
    initialPreview: [
        // IMAGE DATA
        "{{ asset('uploads/' ~ tvShow.iconeName) }}"],
    initialPreviewAsData: true, // identify if you are sending preview data only and not the raw markup
    initialPreviewFileType: 'image', // image is the default and can be overridden in config below
    
    purifyHtml: false, // this by default purifies HTML data for preview
});
{% if tvShow.underageLicenseName %} 
$("#tv_show_underageLicenseFile").fileinput({

    //uploadUrl: "/file-upload-batch/1",
    uploadAsync: false,
    minFileCount: 0,
    maxFileCount: 1,
    overwriteInitial: true,
    initialPreview: [
        // IMAGE DATA
        "{{ asset('uploads/' ~ tvShow.underageLicenseName) }}"],
    initialPreviewAsData: true, // identify if you are sending preview data only and not the raw markup
    initialPreviewFileType: 'pdf', // image is the default and can be overridden in config below
    
    purifyHtml: false, // this by default purifies HTML data for preview
});
{% endif %}
{% if tvShow.invitationName %} 

$("#tv_show_adultLicenseFile").fileinput({

    //uploadUrl: "/file-upload-batch/1",
    uploadAsync: false,
    minFileCount: 0,
    maxFileCount: 1,
    overwriteInitial: true,
    initialPreview: [
        // IMAGE DATA
        "{{ asset('uploads/' ~ tvShow.adultLicenseName) }}"],
    initialPreviewAsData: true, // identify if you are sending preview data only and not the raw markup
    initialPreviewFileType: 'pdf', // image is the default and can be overridden in config below
    
    purifyHtml: false, // this by default purifies HTML data for preview
});
{% endif %}
{% if tvShow.invitationName %} 
$("#tv_show_invitationFile").fileinput({

    //uploadUrl: "/file-upload-batch/1",
    uploadAsync: false,
    minFileCount: 0,
    maxFileCount: 1,
    overwriteInitial: true,
    initialPreview: [
        // IMAGE DATA
        "{{ asset('uploads/' ~ tvShow.invitationName) }}"],
    initialPreviewAsData: true, // identify if you are sending preview data only and not the raw markup
    initialPreviewFileType: 'pdf', // image is the default and can be overridden in config below
    
    purifyHtml: false, // this by default purifies HTML data for preview
});
{% endif %}


</script>
{% endblock %}